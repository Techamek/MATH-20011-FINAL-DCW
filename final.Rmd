---
title: "Final_project-DCW"
author: "David Austin, Collin, Wil Nahra"
date: "2025-04-15"
output:
  html_document:
    df_print: paged
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
``` 

## Introduction

__diamonds Overview:__ The diamonds dataset focuses on the different qualities of commercial diamonds (carat, color, price, etc.). There are 53940 entries.

## Variables

__price:__ The diamond's price in US dollars

__carat:__ The diamond's weight

__cut:__ The quality of the diamond's cut (Fair, Good, Very Good, Premium, Ideal)

__color:__ The color of the diamond, from D(best) to J(worst)

__clarity:__ The clearness of the diamond (I1(worst), SI2, SI1, VS2, VS1, VVS2, VVS1, IF(best))

__x,y,z:__ The length, width, and depth of the diamond respectively (in mm)

__depth:__ The total depth percentage (z/mean(x,y))

__table:__ The wide of the top of the diamond relative to its widest point

## Specific Questions

__Color and Price:__ The largest question we hope to answer with this dataset is concluding whether the color of a diamond is correlated to its market price. We will answer this by comparing the variables in multiple different ways. Firstly, we show various graphs comparing different variables to price in order to draw a general trend. Then, we will create a box plot comparing color and price to show the spread of data for each color in order to see which color tends to be the most valuable. Then we show a statistics table with data (mean price, count, color, standard deviation price) in order to show empirical proof of our findings. Lastly, we show a p-table to draw whether or not this is caused entirely by chance.

```{r load-data}
library(ggplot2)
data(diamonds)
str(diamonds)
summary(diamonds)
```

## Exploratory Data Analysis

```{r eda-visualizations, message=FALSE, warning=FALSE}
library(dplyr)

# Histogram of Price
ggplot(diamonds, aes(x = price)) + 
  geom_histogram(binwidth = 500, fill = "steelblue", color = "black") +
  ggtitle("Distribution of Diamond Prices")
```

The Histogram above shows the price diamonds from $0 to $20,000 and their popularity. Based on this histogram, we can see visually that the most popular price when it comes to popularity is around the $500 - $1000 range with a steady decrease as the price increases
  
```{r}
# Histogram of Carat
ggplot(diamonds, aes(x = carat)) + 
  geom_histogram(binwidth = 0.1, fill = "salmon", color = "black") +
  ggtitle("Distribution of Carat")
```

This Histogram shows the distribution of carats from 0.1 to 5.0 carats and there popularity/count ranging from 0 to over 10,000. Visualizing the data, we can see when is comes to carat distribution, 0.3 is considered the most popular with a decrease going forward with noticeable burst at the 0.7 and 1.0.

```{r}
# Boxplot of Price by Cut
ggplot(diamonds, aes(x = cut, y = price)) + 
  geom_boxplot(fill = "lightgreen") +
  ggtitle("Price by Cut")
```

The boxplot illustrates the distribution of diamond prices across five cut categories: Fair, Good, Very Good, Premium, and Ideal. The median prices vary noticeably between categories. The "Premium" cut shows the highest median price, followed by "Fair" and "Good," whereas the "Ideal" cut, despite being regarded as the highest quality, has a lower median price. This suggests that while cut quality impacts price, other factors such as carat, color, and clarity also significantly influence the overall value. Additionally, the spread of prices (interquartile range) is similar across cuts, with "Premium" and "Very Good" cuts displaying slightly larger variability.

```{r}
# Scatterplot of Price vs Carat
set.seed(123)
diamonds_sample <- diamonds[sample(nrow(diamonds), 1000), ]

ggplot(diamonds_sample, aes(x = carat, y = price)) +
  geom_point(alpha = 0.6) +
  geom_smooth(method = "lm", se = FALSE, color = "blue") +
  ggtitle("Price vs Carat (Sample of 1000 Diamonds)")
```

This scatterplot visualizes the relationship between diamond price and carat weight for a random sample of 1,000 diamonds from the diamonds dataset. The plot reveals a strong positive linear relationship: as carat increases, price generally rises. While the trend is clear, there’s noticeable spread around the line, especially at certain carat sizes, indicating some variability in pricing even among diamonds of the same weight—likely due to factors like cut, color, and clarity.

```{r}
# Boxplot of Price by Color
ggplot(diamonds, aes(x = color, y = price, fill = color)) +
  geom_boxplot() +
  ggtitle("Price by Diamond Color") +
  theme_minimal()
```

This boxplot visualizes the distribution of diamond prices across different color grades from the diamonds dataset. The x-axis represents distinct diamond colors (D–J), while the y-axis displays price, ranging up to 20,000. Each box encapsulates the interquartile range.
The plot reveals noticeable differences in diamond pricing based on color. Certain color grades exhibit higher median prices, suggesting a potential market preference or rarity effect. The variability in price also differs by color, with some showing a wider range while others are more consistent.

```{r}
# Statistical Analysis

# Grouped summary statistics by color: mean price, SD(standard deviation), and count
# Helps us see general trends—e.g., which color grades are associated with higher or lower prices
diamonds %>%
  group_by(color) %>%
  summarise(mean_price = mean(price), sd_price = sd(price), count = n())

# One-way ANOVA: Tests the null hypothesis that all color groups have the same average price
anova_result <- aov(price ~ color, data = diamonds)
summary(anova_result)
# If the p-value in the summary is < 0.05, we reject the null hypothesis,
# suggesting that at least one color group has a significantly different mean price.
# This means color is likely a relevant factor influencing diamond pricing.

# Post-hoc test (Tukey’s HSD): Performs pairwise comparisons between color groups
TukeyHSD(anova_result)
# If the confidence interval for a color pair does not include 0 and the adjusted p-value is < 0.05,
# then those two color groups differ significantly in mean price.
# This tells us exactly which colors are priced differently from each other.
```

## Results

__Notable Statistics:__ Put it here once we finish the data collection.


## Conclusion

__Limitations:__ Put limitations here 

__Potentially Helpful Data Sets:__ Put data sets here
